{% extends "base.html" %}

{% block title %}Master Chess{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/learn.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="learn-container">
    
    <section class="board-area">
        <div class="board-wrapper">
            <div class="board-frame">
                <div id="board" class="simple-board" aria-label="Chess board"></div>
            </div>
            
            <div class="board-footer">
                <div class="status-indicator">
                    <span class="status-dot"></span> Your Turn
                </div>
                <button id="resetLesson" class="icon-btn" title="Reset Position">
                    üîÑ Reset Board
                </button>
            </div>
        </div>
    </section>

    <aside class="sidebar-area">
        
        <div class="sidebar-header">
            <div class="teacher-mini">
                <span class="avatar">üßô‚Äç‚ôÇÔ∏è</span>
                <div class="teacher-info">
                    <span class="name">Chess Master</span>
                    <span class="role">Lesson Badge</span>
                </div>
            </div>
            <div class="lesson-badge">Loading...</div>
        </div>

        <div class="progress-container">
            <div class="progress-bar-bg">
                <div class="progress-bar">0%</div>
            </div>
            <div class="progress-text">Course Progress</div>
        </div>

        <div class="lesson-card">
            <div id="solution" class="solution-text">
                <h2 class="loading-title">Welcome to Chess</h2>
                <p>Loading your curriculum...</p>
            </div>
        </div>

        <div class="sidebar-footer">
            <div class="nav-grid">
                <button id="prevLesson" class="nav-btn secondary" disabled>
                    ‚Üê Previous
                </button>
                <button id="nextLesson" class="nav-btn primary">
                    Next Lesson ‚Üí
                </button>
            </div>
            
            <a href="{{ url_for('main.home_batches') }}" class="upsell-link">
                Want a real coach? Join a Batch ‚Ä∫
            </a>
        </div>
    </aside>

</div>

<script type="module" src="{{ url_for('static', filename='js/firebase.js') }}"></script>
<script src="{{ url_for('static', filename='js/chess-engine.js') }}"></script>
<script type="module" src="{{ url_for('static', filename='js/learn.js') }}"></script>
{% endblock %}